MOVES_DICTIONARY = {
    'Scratch': 
    {
        'name': 'Scratch',
        'power': 40, 
        'type': 'Normal', 
        'super effective against': ['N/A'], 
        'not very effective against': ['Rock', 'Steel']
    }, 
    'Tackle': 
    {
        'name': 'Tackle',
        'power': 40, 
        'type': 'Normal', 
        'super effective against': ['N/A'], 
        'not very effective against': ['Rock', 'Steel']
    }, 
    'Pound': {'name': 'Pound', 'power': 40, 'type': 'Normal', 'super effective against': ['N/A'], 'not very effective against': ['Rock', 'Steel']}, 
    'Rage': {'name': 'Rage', 'power': 20, 'type': 'Normal', 'super effective against': ['N/A'], 'not very effective against': ['Rock', 'Steel']}, 
    'Fury Attack': {'name': 'Fury Attack', 'power': 15, 'type': 'Normal', 'super effective against': ['N/A'], 'not very effective against': ['Rock', 'Steel']}, 
    'Ember': {'name': 'Ember', 'power': 40, 'type': 'Fire', 'super effective against': ['Grass', 'Ice', 'Bug', 'Steel'], 'not very effective against': ['Fire', 'Water', 'Rock', 'Dragon']}, 
    'Fire Spin': {'name': 'Fire Spin', 'power': 35, 'type': 'Fire', 'super effective against': ['Grass', 'Ice', 'Bug', 'Steel'], 'not very effective against': ['Fire', 'Water', 'Rock', 'Dragon']}, 
    'Bubble': {'name': 'Bubble', 'power': 40, 'type': 'Water', 'super effective against': ['Fire', 'Ground', 'Rock'], 'not very effective against': ['Water', 'Grass', 'Dragon']}, 
    'Aqua Jet': {'name': 'Aqua Jet', 'power': 40, 'type': 'Water', 'super effective against': ['Fire', 'Ground', 'Rock'], 'not very effective against': ['Water', 'Grass', 'Dragon']}, 
    'Thunder Shock': {'name': 'Thunder Shock', 'power': 40, 'type': 'Electric', 'super effective against': ['Water', 'Flying'], 'not very effective against': ['Electric', 'Grass', 'Dragon']}, 
    'Thunderbolt': {'name': 'Thunderbolt', 'power': 90, 'type': 'Electric', 'super effective against': ['Water', 'Flying'], 'not very effective against': ['Electric', 'Grass', 'Dragon']}, 
    'Vine Whip': {'name': 'Vine Whip', 'power': 45, 'type': 'Grass', 'super effective against': ['Water', 'Ground', 'Rock'], 'not very effective against': ['Fire', 'Grass', 'Poison', 'Flying', 'Bug', 'Dragon', 'Steel']}, 
    'Magical Leaf': {'name': 'Magical Leaf', 'power': 60, 'type': 'Grass', 'super effective against': ['Water', 'Ground', 'Rock'], 'not very effective against': ['Fire', 'Grass', 'Poison', 'Flying', 'Bug', 'Dragon', 'Steel']}, 
    'Ice Shard': {'name': 'Ice Shard', 'power': 40, 'type': 'Ice', 'super effective against': ['Grass', 'Ground', 'Flying', 'Dragon'], 'not very effective against': ['Fire', 'Water', 'Ice', 'Steel']}, 
    'Double Kick': {'name': 'Double Kick', 'power': 30, 'type': 'Fighting', 'super effective against': ['Normal', 'Ice', 'Rock', 'Dark', 'Steel'], 'not very effective against': ['Poison', 'Flying', 'Psychic', 'Bug', 'Fairy']}, 
    'Earthquake': {'name': 'Earthquake', 'power': 100, 'type': 'Ground', 'super effective against': ['Fire', 'Electric', 'Poison', 'Rock', 'Steel'], 'not very effective against': ['Grass', 'Bug']}, 
    'Wing Attack': {'name': 'Wing Attack', 'power': 60, 'type': 'Flying', 'super effective against': ['Grass', 'Fighting', 'Bug'], 'not very effective against': ['Electric', 'Rock', 'Steel']}, 
    'Peck': {'name': 'Peck', 'power': 35, 'type': 'Flying', 'super effective against': ['Grass', 'Fighting', 'Bug'], 'not very effective against': ['Electric', 'Rock', 'Steel']}, 
    'Confusion': {'name': 'Confusion', 'power': 50, 'type': 'Psychic', 'super effective against': ['Fighting', 'Poison'], 'not very effective against': ['Psychic', 'Steel']}, 
    'Twineedle': {'name': 'Twineedle', 'power': 25, 'type': 'Bug', 'super effective against': ['Grass', 'Psychic', 'Dark'], 'not very effective against': ['Fire', 'Fighting', 'Poison', 'Flying', 'Ghost', 'Steel', 'Fairy']}, 
    'Rock Throw': {'name': 'Rock Throw', 'power': 50, 'type': 'Rock', 'super effective against': ['Fire', 'Ice', 'Flying', 'Bug'], 'not very effective against': ['Fighting', 'Ground', 'Steel']}, 
    'Rock Slide': {'name': 'Rock Slide', 'power': 75, 'type': 'Rock', 'super effective against': ['Fire', 'Ice', 'Flying', 'Bug'], 'not very effective against': ['Fighting', 'Ground', 'Steel']}, 
    'Lick': {'name': 'Lick', 'power': 30, 'type': 'Ghost', 'super effective against': ['Psychic', 'Ghost'], 'not very effective against': ['Dark']}, 
    'Outrage': {'name': 'Outrage', 'power': 120, 'type': 'Dragon', 'super effective against': ['Dragon'], 'not very effective against': ['Steel']}, 
    'Crunch': {'name': 'Crunch', 'power': 80, 'type': 'Dark', 'super effective against': ['Psychic', 'Ghost'], 'not very effective against': ['Fighting', 'Dark', 'Fairy']}, 
    'Bite': {'name': 'Bite', 'power': 60, 'type': 'Dark', 'super effective against': ['Psychic', 'Ghost'], 'not very effective against': ['Fighting', 'Dark', 'Fairy']}, 
    'Flash Cannon': {'name': 'Flash Cannon', 'power': 80, 'type': 'Steel', 'super effective against': ['Ice', 'Rock', 'Fairy'], 'not very effective against': ['Fire', 'Water', 'Electric', 'Steel']}, 
    'Smog': {'name': 'Smog', 'power': 30, 'type': 'Poison', 'super effective against': ['Grass', 'Fairy'], 'not very effective against': ['Poison', 'Ground', 'Rock', 'Ghost']}, 
    'Dream Eater': {'name': 'Dream Eater', 'power': 100, 'type': 'Psychic', 'super effective against': ['Fighting', 'Poison'], 'not very effective against': ['Psychic', 'Steel']}, 
    'Body Slam': {'name': 'Body Slam', 'power': 85, 'type': 'Normal', 'super effective against': ['N/A'], 'not very effective against': ['Rock', 'Steel']}, 
    'Double Slap': {'name': 'Double Slap', 'power': 15, 'type': 'Normal', 'super effective against': ['N/A'], 'not very effective against': ['Rock', 'Steel']}, 
    'Razor Leaf': {'name': 'Razor Leaf', 'power': 55, 'type': 'Grass', 'super effective against': ['Water', 'Ground', 'Rock'], 'not very effective against': ['Fire', 'Grass', 'Poison', 'Flying', 'Bug', 'Dragon', 'Steel']}, 
    'Headbutt': {'name': 'Headbutt', 'power': 70, 'type': 'Normal', 'super effective against': ['N/A'], 'not very effective against': ['Rock', 'Steel']}, 
    'Absorb': {'name': 'Absorb', 'power': 20, 'type': 'Grass', 'super effective against': ['Water', 'Ground', 'Rock'], 'not very effective against': ['Fire', 'Grass', 'Poison', 'Flying', 'Bug', 'Dragon', 'Steel']}, 
    'Fairy Wind': {'name': 'Fairy Wind', 'power': 40, 'type': 'Fairy', 'super effective against': ['Fighting', 'Dragon', 'Dark'], 'not very effective against': ['Fire', 'Poison', 'Steel']}, 
    'Struggle Bug': {'name': 'Struggle Bug', 'power': 50, 'type': 'Bug', 'super effective against': ['Grass', 'Psychic', 'Dark'], 'not very effective against': ['Fire', 'Fighting', 'Poison', 'Flying', 'Ghost', 'Steel', 'Fairy']}, 
    'Draining Kiss': {'name': 'Draining Kiss', 'power': 50, 'type': 'Fairy', 'super effective against': ['Fighting', 'Dragon', 'Dark'], 'not very effective against': ['Fire', 'Poison', 'Steel']}, 
    'Shadow Ball': {'name': 'Shadow Ball', 'power': 80, 'type': 'Ghost', 'super effective against': ['Psychic', 'Ghost'], 'not very effective against': ['Dark']}
}



CHARACTERS = {
    'Pikachu': {'Type': ['Electric'], 'HP': 35, 'Moves': ['Thunder Shock',  'Double Kick', 'Thunderbolt'], 'Attack': 55, 'Defense': 40, 'Speed': 90, 'Experience': 112},
    'Charizard': {'Type': ['Fire', 'Flying'], 'HP': 78, 'Moves': [ 'Crunch', 'Ember', 'Scratch', 'Wing Attack'], 'Attack': 84, 'Defense': 78, 'Speed': 100, 'Experience': 240},
    'Squirtle': {'Type': ['Water'], 'HP': 44, 'Moves': ['Tackle',  'Bubble', 'Bite'], 'Attack': 48, 'Defense': 65, 'Speed': 43, 'Experience': 63},
    'Jigglypuff': {'Type': ['Normal', 'Fairy'], 'HP': 115, 'Moves': ['Pound', 'Body Slam', 'Double Slap'], 'Attack': 45, 'Defense': 20, 'Speed': 20, 'Experience': 95},
    'Gengar': {'Type': ['Ghost', 'Poison'], 'HP': 60, 'Moves': ['Lick', 'Smog', 'Dream Eater', 'Shadow Ball'], 'Attack': 65, 'Defense': 60, 'Speed': 110, 'Experience':225},
    'Magnemite': {'Type': ['Electric', 'Steel'], 'HP': 25, 'Moves': [ 'Tackle', 'Flash Cannon', 'Thunder Shock', 'Thunderbolt'],  'Attack': 35, 'Defense': 70, 'Speed': 45, 'Experience': 65},
    'Bulbasaur': {'Type': ['Grass', 'Poison'], 'HP': 45, 'Moves': ['Tackle', 'Vine Whip', 'Razor Leaf'], 'Attack': 49, 'Defense': 49, 'Speed': 45, 'Experience': 64},
    'Charmander': {'Type': ['Fire'], 'HP': 39, 'Moves': ['Scratch', 'Ember', 'Fire Spin'], 'Attack': 52, 'Defense': 43, 'Speed': 65, 'Experience': 62},
    'Beedrill': {'Type': ['Bug', 'Poison'], 'HP': 65, 'Moves': ['Peck', 'Twineedle', 'Rage', 'Fury Attack', 'Outrage'], 'Attack': 90, 'Defense': 40, 'Speed': 75, 'Experience': 178},
    'Golem': {'Type': ['Rock', 'Ground'], 'HP': 80, 'Moves': [ 'Tackle', 'Rock Throw', 'Rock Slide', 'Earthquake'], 'Attack': 120, 'Defense': 130, 'Speed': 45, 'Experience': 223},
    'Dewgong': {'Type': ['Water', 'Ice'], 'HP': 90, 'Moves': ['Aqua Jet',  'Ice Shard', 'Headbutt'], 'Attack': 70, 'Defense': 80, 'Speed': 70, 'Experience': 166},
    'Hypno': {'Type': ['Psychic'],'HP': 85, 'Moves': ['Pound', 'Confusion', 'Dream Eater'], 'Attack': 73, 'Defense': 70, 'Speed': 67, 'Experience': 169},
    'Cleffa': {'Type': ['Fairy'], 'HP': 50, 'Moves': [ 'Pound', 'Magical Leaf'], 'Attack': 25, 'Defense': 28, 'Speed': 15, 'Experience': 44},
    'Cutiefly': {'Type': ['Fairy', 'Bug'], 'HP': 40, 'Moves': ['Absorb', 'Fairy Wind', 'Struggle Bug', 'Draining Kiss'], 'Attack': 45, 'Defense': 40, 'Speed': 84, 'Experience': 61}
}




import random
random.seed(a=1)

class Pokemon:
  
    def __init__(self, name, type_, hp, attack, defense, 
               speed, experience, moves, level):
        self.name = name
        self.username = None
        self.type_ = type_
        self.hp = hp
        self.attack = attack
        self.defense = defense
        self.speed = speed
        self.experience = experience
        self.moves = moves
        self.level = level
      

    def update_level(self, exp):
        self.level = (self.level**3+exp)**(1/3)
        
    def __str__(self):
        if self.username:
            return f"This pokemon is named {self.username} and is at level {self.level}!"
        return f"This pokemon is named {self.name} and is at level {self.level}!"
      
    def printing(self,letters):
#         letters = list(letters)
#         for letter in letters: 
#             print(letter, end = '')
#             time.sleep(.07)
#         print('\n')
        print(letters)
        
        
    def first_attack(self, comp):
        if CHARACTERS[comp.name]['Speed'] < CHARACTERS[self.name]['Speed']:
            return True
        return False

    def user_choose_move(self, comp):
        self.printing("Your possible moves are " + str(self.moves))
        while True:
            move = input("Which move do you want to use? ").title()
            if move in self.moves:
                comp.deal_damage(self, move)
                break
            else:
                self.printing("Invalid move!")
        if self.username:
            self.printing(f"{self.username} uses {move} against {comp.name}!")
        else:
            self.printing(f"{self.name} uses {move} against {comp.name}!")
        if comp.hp > 0:
            self.printing("Your opponent's health is " + str(comp.hp))
    
    def comp_choose_move(self, comp):
        move = random.choice(comp.moves)
        self.deal_damage(comp, move)
        if self.username:
            self.printing(f"{comp.name} uses {move} against {self.username}!")
        else:
            self.printing(f"{comp.name} uses {move} against {self.name}!")
        if self.hp > 0:
            self.printing("Your health is " + str(self.hp))
    
    def battle(self, comp, game):
        self.printing(f"Your opponent starts with {comp.hp} health!")
        while self.hp > 0 and comp.hp > 0:
            if self.first_attack(comp):
                self.user_choose_move(comp)
                if comp.hp > 0:
                    self.comp_choose_move(comp)
            else:
                self.comp_choose_move(comp)
                if self.hp > 0:
                    self.user_choose_move(comp)
            print('\n')
        if self.hp <= 0:
            if self.username:
                self.printing(f"{self.username} fainted!")
            else:
                self.printing(f"{self.name} fainted!")
            self.printing(f"{comp.name} still has {comp.hp} health!")
            return False
        if comp.hp <= 0:
            self.printing(f"{comp.name} fainted!")
            if self.username:
                self.printing(f"{self.username} still has {self.hp} health!")
            else:
                self.printing(f"{self.name} still has {self.hp} health!")
            self.update_level(comp.experience)
            self.heal()
            comp.heal()
            return True

    def heal(self):
        self.hp = CHARACTERS[self.name]['HP']
        
    def calculate_effectiveness_type(self, move):
        type_ = 1
        for i in self.moves:
            if i.title() in MOVES_DICTIONARY[move.title()]['super effective against']:
                type_ *= 2
            elif i.title() in MOVES_DICTIONARY[move.title()]['not very effective against']:
                type_ /= 2
        return type_

    def get_move_properties(self, move, type_):
        return (type_, MOVES_DICTIONARY[move.title()]['power'])

    def calculate_damage(self, attacker, move_stats):
        print("\n")
        type_, power = move_stats
        rand_temp = random.randint(0,511)
        if rand_temp < attacker.speed:
            critical = 2
            self.printing("CRITICAL HIT")
        else:
            critical = 1
        rand_val = random.uniform(.85,1)
        self.hp -= critical*rand_val*type_*(((2*attacker.level/5)+2)*power*attacker.attack/self.defense)/50
        self.hp = round(self.hp)
        
    def deal_damage(self, other, move):
        self_bonus = self.calculate_effectiveness_type(move)
        move_stats = self.get_move_properties(move, self_bonus)
        self.calculate_damage(other, move_stats)




class Pikachu(Pokemon):
    def __init__(self):
        super().__init__('Pikachu', ['Electric'], 35, 55, 40, 90, 112, ['Thunder Shock',  'Double Kick', 'Thunderbolt'], level = 1)
class Charizard(Pokemon):
    def __init__(self):
        super().__init__('Charizard', ['Fire', 'Flying'], 78, 84, 78, 100, 240, ['Crunch', 'Ember', 'Scratch', 'Wing Attack'], level = 1)
class Squirtle(Pokemon):
    def __init__(self):
        super().__init__('Squirtle', ['Water'], 44, 48, 65, 43, 63, ['Tackle',  'Bubble', 'Bite'], level = 1)
class Jigglypuff(Pokemon):
    def __init__(self):
        super().__init__('Jigglypuff', ['Normal', 'Fairy'], 115, 45, 20, 20, 95, ['Pound', 'Body Slam', 'Double Slap'], level = 1)
class Gengar(Pokemon):
    def __init__(self):
        super().__init__('Gengar', ['Ghost', 'Poison'], 60, 65, 60, 110, 225, ['Lick', 'Smog', 'Dream Eater', 'Shadow Ball'], level = 1)
class Magnemite(Pokemon):
    def __init__(self):
        super().__init__('Magnemite', ['Electric', 'Steel'], 25, 35, 70, 45, 65, ['Tackle', 'Flash Cannon', 'Thunder Shock', 'Thunderbolt'], level = 1)
class Bulbasaur(Pokemon):
    def __init__(self):
        super().__init__('Bulbasaur', ['Grass', 'Poison'], 45, 49, 49, 45, 64, ['Tackle', 'Vine Whip', 'Razor Leaf'], level = 1)
class Charmander(Pokemon):
    def __init__(self):
        super().__init__('Charmander', ['Fire'], 39, 52, 43, 65, 62, ['Scratch', 'Ember', 'Fire Spin'], level = 1)
class Beedrill(Pokemon):
    def __init__(self):
        super().__init__('Beedrill', ['Bug', 'Poison'], 65, 90, 40, 75, 178, ['Peck', 'Twineedle', 'Rage', 'Fury Attack', 'Outrage'], level = 1)
class Golem(Pokemon):
    def __init__(self):
        super().__init__('Golem', ['Rock', 'Ground'], 80, 120, 130, 45, 223, ['Tackle', 'Rock Throw', 'Rock Slide', 'Earthquake'], level = 1)
class Dewgong(Pokemon):
    def __init__(self):
        super().__init__('Dewgong', ['Water', 'Ice'], 90, 70, 80, 70, 166, ['Aqua Jet',  'Ice Shard', 'Headbutt'], level = 1)
class Hypno(Pokemon):
    def __init__(self):
        super().__init__('Hypno', ['Psychic'], 85, 73, 70, 67, 169, ['Pound', 'Confusion', 'Dream Eater'], level = 1)
class Cleffa(Pokemon):
    def __init__(self):
        super().__init__('Cleffa', ['Fairy'], 50, 25, 28, 15, 44, ['Pound', 'Magical Leaf'], level = 1)
class Cutiefly(Pokemon):
    def __init__(self):
        super().__init__('Cutiefly', ['Fairy', 'Bug'], 40, 45, 40, 84, 61, ['Absorb', 'Fairy Wind', 'Struggle Bug', 'Draining Kiss'], level = 1)


import time
import random

poke_class_dict = {'Pikachu': Pikachu, 'Charizard': Charizard, 
                   'Squirtle': Squirtle, 'Jigglypuff': Jigglypuff,
                   'Gengar': Gengar, 'Magnemite': Magnemite,
                   'Bulbasaur': Bulbasaur, 'Charmander': Charmander,
                   'Beedrill': Beedrill, 'Golem': Golem,
                   'Dewgong': Dewgong, 'Hypno': Hypno,
                   'Cleffa': Cleffa, 'Cutiefly': Cutiefly}

class Game:

    def printing(self,letters):
#         letters = list(letters)
#         for letter in letters: 
#             print(letter, end = '')
#             time.sleep(.07)
#         print('\n')
        print(letters)

    def __init__(self):
        bulb = Bulbasaur()
        charm = Charmander()
        squir = Squirtle()
        self.poke_arr = [bulb, charm, squir]
        welcome = 'POKÉMON STADIUM'
        self.printing(welcome)
        time.sleep(1)
        self.printing(f'Welcome to the stadium. You will start with the following Pokémon:')
        self.print_poke_arr()
        self.printing(f'Enter the name of the Pokémon you want to learn more about and press enter when you are ready to start the game.')
        user_interest = input().lower().strip()
        while user_interest: 
            if user_interest == 'bulbasaur' or user_interest == '1':
                self.printing(f'NAME\nBulbasaur\nTYPE\nGrass | Poison\n\nBASE STATS\nHP: 45\nAttack: 49\nDefense: 49\nSpeed: 45')
            elif user_interest == 'charmander' or user_interest == '2':
                self.printing(f'NAME\nCharmander\nTYPE\nFire\n\nBASE STATS\nHP: 39\nAttack: 52\nDefense: 43\nSpeed: 65')
            elif user_interest == 'squirtle' or user_interest == '3':
                self.printing(f'NAME\nSquirtle\nTYPE\nWater\n\nBASE STATS\nHP: 44\nAttack: 48\nDefense: 65\nSpeed: 43')
            else: 
                self.printing('Please choose one of the following: Bulbasaur | Charmander | Squirtle. Make sure your spelling is correct.')
                user_interest = input().lower().strip()
                if user_interest == 'bulbasaur' or user_interest == '1':
                    self.printing(f'NAME\nBulbasaur\nTYPE\nGrass | Poison\n\nBASE STATS\nHP: 45\nAttack: 49\nDefense: 49\nSpeed: 45')
                elif user_interest == 'charmander' or user_interest == '2':
                    self.printing(f'NAME\nCharmander\nTYPE\nFire\n\nBASE STATS\nHP: 39\nAttack: 52\nDefense: 43\nSpeed: 65')
                elif user_interest == 'squirtle' or user_interest == '3':
                    self.printing(f'NAME\nCharmander\nTYPE\nWater\n\nBASE STATS\nHP: 44\nAttack: 48\nDefense: 65\nSpeed: 43')
            self.printing("Choose the next Pokémon to learn about. Press enter when you are ready to move on!")
            self.print_poke_arr()
            user_interest = input().lower().strip()

        self.printing("Now you are ready to name your Pokémon! Enter 'done' when you are done renaming! Choose your pokemon to rename:")
        self.print_poke_arr()
        while True:
            user_pokemon = input().lower().strip()
            if user_pokemon == 'bulbasaur' or user_pokemon == '1':
                self.rename_pokemon(self.poke_arr[0])
            elif user_pokemon == 'charmander' or user_pokemon == '2':
                self.rename_pokemon(self.poke_arr[1])
            elif user_pokemon == 'squirtle' or user_pokemon == '3':
                self.rename_pokemon(self.poke_arr[2])
            elif user_pokemon == 'done':
                break
            else: 
                self.printing("Invalid pokémon selection. Please try again.")
            self.printing("Enter the next name you wish to change. If you are ready to begin the game, enter 'done'!")
            self.print_poke_arr()
        self.printing("Please wait for the game to begin.")
        time.sleep(3)

    def rename_pokemon(self, poke):
        if poke.username:
            self.printing(f"What do you want the new name of {poke.username} to be?")
        else:
            self.printing(f"What do you want the new name of {poke.name} to be?")
        while True:
            new_name = input()
            try:
                poke.username = new_name
                self.printing(f"Your pokémon's new name is {poke.username}!")
                break
            except: 
                self.printing("Invalid name. Please try again.")
    
    def print_poke_arr(self, *poke_arr_inp):
        #fix this
        if poke_arr_inp:
            poke_arr = poke_arr_inp[0]
        else:
            poke_arr = self.poke_arr
        for i in range(len(poke_arr)):
            if poke_arr[i].username:
                self.printing(f"{i+1}  |  {poke_arr[i].username}")
            else:
                self.printing(f"{i+1}  |  {poke_arr[i].name}")
    
    def select_user_pokemon(self, poke_arr):
        while True:
            self.printing("Select your pokémon for battle!")
            user_pokemon = input().lower().strip()
            for i in range(len(poke_arr)):
                if poke_arr[i].username:
                    if user_pokemon == str(i+1) or user_pokemon == poke_arr[i].username.lower():
                        poke = poke_arr.pop(i)
                        return poke, poke_arr
                else:
                    if user_pokemon == str(i+1) or user_pokemon == poke_arr[i].name.lower():
                        poke = poke_arr.pop(i)
                        return poke, poke_arr
            self.printing("Invalid Pokémon. Please try again.")
    
    def generate_opponent(self):
        character = random.choice(list(CHARACTERS.keys()))
        comp = poke_class_dict[character.title()]()
        self.printing("Your opponent is " + comp.name)
        return comp  
    
    def battle(self, comp):
        print("\n")
        poke_arr1 = list(self.poke_arr)
        win = False
        while not win:
            self.print_poke_arr(poke_arr1)
            poke, poke_arr1 = self.select_user_pokemon(poke_arr1)
            print("\n")
            win = poke.battle(comp, self)
            if len(poke_arr1) == 1 and not win:
                self.printing("You suck at this game! Only one pokémon left! ")
            elif len(poke_arr1) == 0:
                self.printing("All your pokémon died!\nGame Over.")
                return False
                break
        if win:
            self.add_pokemon(comp)
            return True
        
    def add_pokemon(self, comp):
        while True:
            self.printing(f"Do you wish to add {comp.name} to your collection? ")
            choice = input()
            if choice.lower()=="yes" or choice.lower()=="y":
                while True:
                    self.printing(f"Do you wish to rename {comp.name}? ")
                    choice = input()
                    if choice.lower()=="yes" or choice.lower()=="y":
                        self.rename_pokemon(comp)
                        break
                    elif choice.lower()=="no" or choice.lower()=="n":
                        break
                    else:
                        self.printing("Unrecognizable input")
                self.poke_arr.append(comp)
                break
            elif choice.lower()=="no" or choice.lower()=="n":
                break
            else:
                self.printing("Unrecognizable input")

      
    def main(self):
        comp = self.generate_opponent()
        win = self.battle(comp)
        while True:
            if win:
                choice = input("Do you want to play another pokemon right now? (Yes/No) ")
                if choice.lower()=="yes" or choice.lower()=="y":
                    comp = self.generate_opponent()
                    self.battle(comp)
                    break
                elif choice.lower()=="no" or choice.lower()=="n":
                    break
                else:
                    self.printing("Unrecognizable input")
            else:
                break

if __name__ == '__main__':
    Game().main()